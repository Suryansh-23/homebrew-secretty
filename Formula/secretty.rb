# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Secretty < Formula
  desc "macOS + Linux PTY wrapper that redacts secrets from terminal output"
  homepage "https://github.com/Suryansh-23/secretty"
  version "0.3.0"
  license "MIT"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/Suryansh-23/secretty/releases/download/v0.3.0/secretty_0.3.0_darwin_amd64.tar.gz"
      sha256 "4496dffe322cf3577a1e1426d29c416a18db87da03c11a8b8a0943232e4a8d5d"

      def install
        bin.install "secretty"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/Suryansh-23/secretty/releases/download/v0.3.0/secretty_0.3.0_darwin_arm64.tar.gz"
      sha256 "7a3e6cfa0fdbbb45032337dcb4e9bacecd457edaeba0782a818cd9f2adf828fb"

      def install
        bin.install "secretty"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/Suryansh-23/secretty/releases/download/v0.3.0/secretty_0.3.0_linux_amd64.tar.gz"
      sha256 "49df6fbc847555460b74e8fe18038da70f77f2db25ced17d788684b3bce76b37"
      def install
        bin.install "secretty"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/Suryansh-23/secretty/releases/download/v0.3.0/secretty_0.3.0_linux_arm64.tar.gz"
      sha256 "9fded1a500a4616a665faa00ff1eec6e9ef2c5c562503bd8696c810766e5c754"
      def install
        bin.install "secretty"
      end
    end
  end

  def caveats
    <<~EOS
      SecreTTY may install shell hooks. Restart your shell to apply changes:
        exec $SHELL -l
      Or reload your shell config:
        source ~/.zshrc
        source ~/.bashrc
        source ~/.config/fish/config.fish
    EOS
  end
end
